<div class="modal hide fade" id="delete-modal" role="dialog">
    <div class="modal-header">
        <button class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Modal header</h3>
    </div>
    <div class="modal-body">
        <p>Are you sure you want to delete this <span id="resource-name"></span>?</p>
    </div>
    <div class="modal-footer">
        <button  class="btn btn-outline-primary" data-dismiss="modal">Close</button>
        <form id="delete-form" method="POST" style="display: inline-block;">
            <button type="submit" class="btn btn-outline-danger">Delete</button>
        </form>
    </div>
</div>

@using (Html.BeginScripts())
{
    <script>
        Object.values(document.querySelectorAll('a[href="#delete-modal"]')).forEach(function (toggler) {
        toggler.addEventListener("click", function (event) {
            @* event.stopPropagation(); *@
            var deleteModal = document.querySelector(event.target.getAttribute("href"));
            deleteModal.dataset.action = toggler.dataset.action;
            deleteModal.dataset.resourceId = toggler.dataset.resourceId
            deleteModal.dataset.resourceName = toggler.dataset.resourceName
    })
    });
    $('#delete-modal').on('show', function (event) {
        console.log("modal show method called");
        var form = document.getElementById("delete-form");
        var action =  this.dataset.action; 
        document.getElementById("resource-name").innerHTML = this.dataset.resourceName;
        form.setAttribute("action", action);
    })
</script>
}